<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.backend.mappers.CompanyMapper">

    <insert id="insertCompany"
            parameterType="com.example.backend.models.Company">
        INSERT INTO company_info (
        login_id,
        business_reg_no,
        company_name,
        contact_person,
        contact_phone_number,
        contact_email,
        address,
        address_detail,
        target_no_accident_days,
        target_incident,
        target_law,
        target_etc,
        main_process,
        has_required_docs
        ) VALUES (
        #{loginId},
        #{businessRegNo},
        #{companyName},
        #{contactPerson},
        #{contactPhoneNumber},
        #{contactEmail},
        #{address},
        #{addressDetail},
        #{targetNoAccidentDays},
        #{targetIncident},
        #{targetLaw},
        #{targetEtc},
        #{mainProcess},
        #{hasRequiredDocs}
        )
    </insert>
    <select id="selectCompanyList" resultType="com.example.backend.models.Company">
        SELECT
        login_id AS loginId,
        business_reg_no AS businessRegNo,
        company_name AS companyName,
        contact_person AS contactPerson,
        contact_phone_number AS contactPhoneNumber,
        contact_email AS contactEmail,
        address,
        address_detail AS addressDetail,
        target_no_accident_days AS targetNoAccidentDays,
        target_incident AS targetIncident,
        target_law AS targetLaw,
        target_etc AS targetEtc,
        main_process AS mainProcess,
        has_required_docs AS hasRequiredDocs,
        created_at,
        updated_at
        FROM company_info
        ORDER BY created_at DESC
    </select>

</mapper>
